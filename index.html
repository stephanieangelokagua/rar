<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Budget Travel Explorer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      scroll-behavior: smooth;
    }

    .hero {
      background-image: url('https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?fit=crop&w=1200&q=80');
      background-size: cover;
      background-position: center;
      color: white;
      text-align: center;
      padding: 80px 20px;
    }

    .destination-card:hover {
      transform: scale(1.05);
      transition: transform 0.3s ease;
    }

    .budget-slider {
      max-width: 400px;
      margin: 20px auto;
    }

    /* Smooth fade-out effect */
    .fade-out {
      opacity: 0;
      transition: opacity 0.5s ease-out;
    }

    /* Smooth fade-in effect */
    .fade-in {
      opacity: 1;
      transition: opacity 0.5s ease-in;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="bg-dark text-white py-3">
    <nav class="container d-flex justify-content-between">
      <h1>Budget Travel Explorer</h1>
      <ul class="nav">
        <li class="nav-item"><a href="#destinations" class="nav-link text-white">Destinations</a></li>
        <li class="nav-item"><a href="#calculator" class="nav-link text-white">Calculator</a></li>
        <li class="nav-item"><a href="#contact" class="nav-link text-white">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <h2 class="display-4">Explore the World Without Breaking the Bank!</h2>
    <p class="lead">Find destinations that fit your budget.</p>
    <div class="budget-slider">
      <label for="budgetRange" class="form-label">Your Budget: <span id="budgetLabel">$500</span></label>
      <input type="range" class="form-range" id="budgetRange" min="100" max="2000" step="50" value="500" oninput="trackSliderMovement()">
    </div>
    <button class="btn btn-primary" onclick="filterDestinations()">Find My Destination</button>
  </section>

  <!-- Destinations Section -->
  <section id="destinations" class="container py-5">
    <h2 class="text-center mb-4">Top Destinations for Your Budget</h2>
    <div id="destinationContainer" class="row">
      <!-- Dynamic Destination Cards Will Be Injected Here -->
    </div>
  </section>

  <!-- Budget Calculator Section -->
  <section id="calculator" class="bg-light py-5">
    <div class="container">
      <h2 class="text-center mb-4">Budget Calculator</h2>
      <form id="budgetForm">
        <div class="mb-3">
          <label for="days" class="form-label">Number of Days</label>
          <input type="number" class="form-control" id="days" placeholder="Enter number of days">
        </div>
        <div class="mb-3">
          <label for="accommodation" class="form-label">Accommodation Budget Per Day ($)</label>
          <input type="number" class="form-control" id="accommodation" placeholder="Enter accommodation cost per day">
        </div>
        <div class="mb-3">
          <label for="food" class="form-label">Food & Transport Budget Per Day ($)</label>
          <input type="number" class="form-control" id="food" placeholder="Enter food & transport cost per day">
        </div>
        <button type="button" class="btn btn-primary" onclick="calculateBudget()">Calculate Total</button>
      </form>
      <p class="mt-3">Estimated Total: <strong id="totalCost">$0</strong></p>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="bg-dark text-white py-5">
    <div class="container">
      <h2 class="text-center mb-4">Contact Us</h2>
      <form>
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="name" placeholder="Your Name">
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" placeholder="Your Email">
        </div>
        <button type="submit" class="btn btn-primary">Subscribe</button>
      </form>
    </div>
  </section>

  <!-- JavaScript -->
  <script>
    // Define the destinations array with actual images
    const destinations = [
      {
        name: "Bali",
        image: "https://images.unsplash.com/photo-1558944351-f7a63a5a4a5d?fit=crop&w=800&q=80",
        description: "Perfect for budgets of $500 - $1000.",
        minBudget: 500,
        maxBudget: 1000,
        link: "https://www.balitourismboard.org/"
      },
      {
        name: "Paris",
        image: "https://images.unsplash.com/photo-1543340713-8d52aa18ebd3?fit=crop&w=800&q=80",
        description: "Perfect for budgets of $1500 - $2000.",
        minBudget: 1500,
        maxBudget: 2000,
        link: "https://en.parisinfo.com/"
      },
      {
        name: "Cape Town",
        image: "https://images.unsplash.com/photo-1573212840309-1f2601aee056?fit=crop&w=800&q=80",
        description: "Perfect for budgets of $1000 - $1500.",
        minBudget: 1000,
        maxBudget: 1500,
        link: "https://www.capetown.travel/"
      },
    ];

    let sliderMoved = false; // Variable to track if the slider has been moved

    // Track slider movement
    function trackSliderMovement() {
      sliderMoved = true; // Set to true when slider is adjusted
      const budget = parseInt(document.getElementById("budgetRange").value);
      document.getElementById("budgetLabel").textContent = `$${budget}`;
    }

    // Function to display destinations dynamically with smooth transitions
    function displayDestinations(budget) {
      const container = document.getElementById("destinationContainer");

      // Apply fade-out effect
      container.classList.add("fade-out");

      // Wait for fade-out animation to complete
      setTimeout(() => {
        updateDestinations(container, budget);

        // Apply fade-in effect
        container.classList.remove("fade-out");
        container.classList.add("fade-in");

        // Remove fade-in class after animation completes
        setTimeout(() => {
          container.classList.remove("fade-in");
        }, 500); // Match the CSS animation duration
      }, 500); // Match the CSS animation duration
    }

    // Function to update the destination cards
    function updateDestinations(container, budget) {
      container.innerHTML = ""; // Clear existing destinations

      // Filter destinations based on the budget
      const filteredDestinations = destinations.filter(
        (destination) => budget >= destination.minBudget && budget <= destination.maxBudget
      );

      // Generate HTML for each filtered destination
      if (filteredDestinations.length > 0) {
        filteredDestinations.forEach((destination) => {
          const card = document.createElement("div");
          card.classList.add("col-md-4");
          card.innerHTML = `
            <div class="card destination-card">
              <img src="${destination.image}" class="card-img-top" alt="${destination.name}">
              <div class="card-body">
                <h5 class="card-title">${destination.name}</h5>
                <p class="card-text">${destination.description}</p>
                <a href="${destination.link}" target="_blank" class="btn btn-secondary">Learn More</a>
              </div>
            </div>
          `;
          container.appendChild(card);
        });
      } else {
        // Add default image and message when no destinations match the budget
        container.innerHTML = `
          <div class="text-center">
            <img src="https://via.placeholder.com/600x400?text=No+Destinations+Available" alt="No destinations" style="max-width: 100%; height: auto;">
            <p class="mt-3">No destinations available for your budget.</p>
          </div>
        `;
      }
    }

    // Function to filter destinations when the button is clicked
    function filterDestinations() {
      if (!sliderMoved) {
        alert("Please adjust the slider before clicking the button!");
        return;
      }
      const budget = parseInt(document.getElementById("budgetRange").value);
      displayDestinations(budget);
      sliderMoved = false; // Reset sliderMoved after displaying destinations
    }

    // Budget Calculator Function
    function calculateBudget() {
      const days = parseInt(document.getElementById("days").value || 0);
      const accommodation = parseInt(document.getElementById("accommodation").value || 0);
      const food = parseInt(document.getElementById("food").value || 0);
      const total = days * (accommodation + food);
      document.getElementById("totalCost").textContent = `$${total}`;
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
